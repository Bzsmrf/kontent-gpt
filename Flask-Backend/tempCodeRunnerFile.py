submit_with_type